{
  "id": "023_expression_evaluation",
  "description": "Expression evaluation: arithmetic, comparison, CASE, CAST, IS NULL, unary ops, function calls",
  "ops": [
    { "op": "open", "path": ":memory:" },
    { "op": "query", "sql": "SELECT 1 + 2", "expect": { "rows": [["3"]], "ordered": true } },
    { "op": "query", "sql": "SELECT 10 - 3", "expect": { "rows": [["7"]], "ordered": true } },
    { "op": "query", "sql": "SELECT 4 * 5", "expect": { "rows": [["20"]], "ordered": true } },
    { "op": "query", "sql": "SELECT 10 / 3", "expect": { "rows": [["3"]], "ordered": true } },
    { "op": "query", "sql": "SELECT 10 % 3", "expect": { "rows": [["1"]], "ordered": true } },
    { "op": "query", "sql": "SELECT 'hello' || ' ' || 'world'", "expect": { "rows": [["hello world"]], "ordered": true } },
    { "op": "query", "sql": "SELECT -42", "expect": { "rows": [["-42"]], "ordered": true } },
    { "op": "query", "sql": "SELECT NOT 0", "expect": { "rows": [["1"]], "ordered": true } },
    { "op": "query", "sql": "SELECT NOT 1", "expect": { "rows": [["0"]], "ordered": true } },
    { "op": "query", "sql": "SELECT ~0", "expect": { "rows": [["-1"]], "ordered": true } },
    { "op": "query", "sql": "SELECT 1 = 1", "expect": { "rows": [["1"]], "ordered": true } },
    { "op": "query", "sql": "SELECT 1 != 2", "expect": { "rows": [["1"]], "ordered": true } },
    { "op": "query", "sql": "SELECT 1 < 2", "expect": { "rows": [["1"]], "ordered": true } },
    { "op": "query", "sql": "SELECT 2 > 1", "expect": { "rows": [["1"]], "ordered": true } },
    { "op": "query", "sql": "SELECT 1 AND 1", "expect": { "rows": [["1"]], "ordered": true } },
    { "op": "query", "sql": "SELECT 0 OR 1", "expect": { "rows": [["1"]], "ordered": true } },
    { "op": "query", "sql": "SELECT NULL IS NULL", "expect": { "rows": [["1"]], "ordered": true } },
    { "op": "query", "sql": "SELECT 1 IS NOT NULL", "expect": { "rows": [["1"]], "ordered": true } },
    { "op": "query", "sql": "SELECT CAST('42' AS INTEGER)", "expect": { "rows": [["42"]], "ordered": true } },
    { "op": "query", "sql": "SELECT CAST(3.14 AS INTEGER)", "expect": { "rows": [["3"]], "ordered": true } },
    { "op": "query", "sql": "SELECT CAST(42 AS TEXT)", "expect": { "rows": [["42"]], "ordered": true } },
    { "op": "query", "sql": "SELECT CASE WHEN 1 > 0 THEN 'pos' ELSE 'neg' END", "expect": { "rows": [["pos"]], "ordered": true } },
    { "op": "query", "sql": "SELECT CASE 2 WHEN 1 THEN 'one' WHEN 2 THEN 'two' ELSE 'other' END", "expect": { "rows": [["two"]], "ordered": true } },
    { "op": "query", "sql": "SELECT CASE WHEN NULL THEN 'yes' ELSE 'no' END", "expect": { "rows": [["no"]], "ordered": true } },
    { "op": "query", "sql": "SELECT abs(-5)", "expect": { "rows": [["5"]], "ordered": true } },
    { "op": "query", "sql": "SELECT length('hello')", "expect": { "rows": [["5"]], "ordered": true } },
    { "op": "query", "sql": "SELECT upper('hello')", "expect": { "rows": [["HELLO"]], "ordered": true } },
    { "op": "query", "sql": "SELECT lower('WORLD')", "expect": { "rows": [["world"]], "ordered": true } },
    { "op": "query", "sql": "SELECT hex(X'DEADBEEF')", "expect": { "rows": [["DEADBEEF"]], "ordered": true } },
    { "op": "query", "sql": "SELECT typeof(NULL)", "expect": { "rows": [["null"]], "ordered": true } },
    { "op": "query", "sql": "SELECT typeof(42)", "expect": { "rows": [["integer"]], "ordered": true } },
    { "op": "query", "sql": "SELECT typeof(3.14)", "expect": { "rows": [["real"]], "ordered": true } },
    { "op": "query", "sql": "SELECT typeof('text')", "expect": { "rows": [["text"]], "ordered": true } }
  ],
  "fsqlite_modes": ["compatibility", "native"]
}
