{
  "id": "016_compound_order_by_multi",
  "description": "Compound SELECT ORDER BY with multiple compound operators and priority rules",
  "ops": [
    { "op": "open", "path": ":memory:" },
    {
      "op": "query",
      "sql": "SELECT 10 AS a, 1 AS b UNION ALL SELECT 2 AS b, 20 AS a ORDER BY b",
      "expect": {
        "columns": ["a", "b"],
        "rows": [["10", "1"], ["2", "20"]],
        "ordered": true
      }
    },
    {
      "op": "query",
      "sql": "SELECT 5 AS x, 1 AS y UNION ALL SELECT 2 AS y, 6 AS x ORDER BY y",
      "expect": {
        "columns": ["x", "y"],
        "rows": [["5", "1"], ["2", "6"]],
        "ordered": true
      }
    },
    {
      "op": "query",
      "sql": "SELECT 2 AS a INTERSECT SELECT 2 AS b ORDER BY b",
      "expect": {
        "columns": ["a"],
        "rows": [["2"]],
        "ordered": true
      }
    },
    {
      "op": "query",
      "sql": "SELECT 2 AS a EXCEPT SELECT 1 AS b ORDER BY b",
      "expect": {
        "columns": ["a"],
        "rows": [["2"]],
        "ordered": true
      }
    },
    {
      "op": "query",
      "sql": "SELECT 10 AS a, 1 AS x UNION ALL SELECT 5 AS b, 2 AS c UNION ALL SELECT 1 AS c, 3 AS b ORDER BY c",
      "expect": {
        "columns": ["a", "x"],
        "rows": [["10", "1"], ["5", "2"], ["1", "3"]],
        "ordered": true
      }
    }
  ],
  "fsqlite_modes": ["compatibility", "native"]
}
